

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Resource Usage &mdash; XMOS USB Device (XUD) Library v documentation</title>

    <link rel="stylesheet" href=".static/pygments.css" type="text/css" />
    <link rel="stylesheet" href=".static/globals.css"  type="text/css" />
    <link rel="stylesheet" href=".static/ui.css" type="text/css" />
    <link rel="stylesheet" href=".static/app.css"  type="text/css" />
    <link rel="stylesheet" href=".static/mobile.css"  type="text/css" />
    <link rel="stylesheet" href=".static/xde.css"
    type="text/css" /><script type="text/javascript" src=".static/scripts.js"></script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src=".static/jquery.js"></script>
    <script type="text/javascript" src=".static/underscore.js"></script>
    <script type="text/javascript" src=".static/doctools.js"></script>
    <link rel="top" title="XMOS USB Device (XUD) Library v documentation" href="index.html" />
    <link rel="next" title="Basic Usage" href="page3.html" />
    <link rel="prev" title="File Arrangement" href="page1.html" /> 
  </head>
  <body class="xde indented-content" onload="prepareContents();">  
          <div id="body">
             <div id="content">
             <h1>Resource Usage</h1>

             <div class='columns'>
            
  <p>The XUD library requires the resources described in the following
sections.</p>
<h2 class="topic" id="ports-pins">Ports/Pins</h2>
<div><h3 id="g-l-series">G/L-Series</h3>
<div><p>The ports used for the physical connection to the external ULPI transceiver must
be connected as shown in the table below.</p>
<div class="figure"><div class="caption"><span>ULPI required pin/port connections</span></div><table border="1" class="horizontal-borders vertical-borders docutils" id="table-xud-ulpi-required-pin-port">
<colgroup>
<col width="15%" />
<col width="15%" />
<col width="13%" />
<col width="15%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head" rowspan="2"><p>Pin 1b</p>
</th>
<th class="head" colspan="3"><p>Port 4b</p>
</th>
<th class="head"><p>Signal 8b</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><p>X0D12</p>
</td>
<td><p>P1E0</p>
</td>
<td colspan="2">&nbsp;</td>
<td><p>ULPI_STP</p>
</td>
</tr>
<tr><td><p>X0D13</p>
</td>
<td><p>P1F0</p>
</td>
<td colspan="2">&nbsp;</td>
<td><p>ULPI_NXT</p>
</td>
</tr>
<tr><td><p>X0D14</p>
</td>
<td rowspan="8">&nbsp;</td>
<td><p>P4C0</p>
</td>
<td><p>P8B0</p>
</td>
<td rowspan="8"><p>ULPI_DATA[7:0]</p>
</td>
</tr>
<tr><td><p>X0D15</p>
</td>
<td><p>P4C1</p>
</td>
<td><p>P8B1</p>
</td>
</tr>
<tr><td><p>X0D16</p>
</td>
<td><p>P4D0</p>
</td>
<td><p>P8B2</p>
</td>
</tr>
<tr><td><p>X0D17</p>
</td>
<td><p>P4D1</p>
</td>
<td><p>P8B3</p>
</td>
</tr>
<tr><td><p>X0D18</p>
</td>
<td><p>P4D2</p>
</td>
<td><p>P8B4</p>
</td>
</tr>
<tr><td><p>X0D19</p>
</td>
<td><p>P4D3</p>
</td>
<td><p>P8B5</p>
</td>
</tr>
<tr><td><p>X0D20</p>
</td>
<td><p>P4C2</p>
</td>
<td><p>P8B6</p>
</td>
</tr>
<tr><td><p>X0D21</p>
</td>
<td><p>P4C3</p>
</td>
<td><p>P8B7</p>
</td>
</tr>
<tr><td><p>X0D22</p>
</td>
<td><p>P1G0</p>
</td>
<td colspan="2">&nbsp;</td>
<td><p>ULPI_DIR</p>
</td>
</tr>
<tr><td><p>X0D23</p>
</td>
<td><p>P1H0</p>
</td>
<td colspan="2">&nbsp;</td>
<td><p>ULPI_CLK</p>
</td>
</tr>
<tr><td><p>X0D24</p>
</td>
<td><p>P1I0</p>
</td>
<td colspan="2">&nbsp;</td>
<td><p>ULPI_RST_N</p>
</td>
</tr>
</tbody>
</table>
</div><p>In addition some ports are used internally when the XUD library is in
operation. For example pins X0D2-X0D9, X0D26-X0D33 and X0D37-X0D43 on
an XS1-L device should not be used.</p>
<p>Please refer to the device datasheet for further information on which ports
are available.</p>
</div><h3 id="u-series">U-Series</h3>
<div><p>The U-Series of devices have an integrated USB transceiver. Some ports
are used to communicate with the USB transceiver inside the U-Series packages.
These ports/pins should not be used when USB functionality is enabled.
The ports/pins are shown in the table below.</p>
<div class="figure"><div class="caption"><span>U-Series required pin/port connections</span></div><table border="1" class="horizontal-borders vertical-borders docutils" id="table-xud-u-required-pin-port">
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="14%" />
<col width="17%" />
<col width="17%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head" rowspan="2"><p>Pin 1b</p>
</th>
<th class="head" colspan="5"><p>Port 4b</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><p>X0D02</p>
</td>
<td>&nbsp;</td>
<td><p>P4A0</p>
</td>
<td><p>P8A0</p>
</td>
<td><p>P16A0</p>
</td>
<td><p>P32A20</p>
</td>
</tr>
<tr><td><p>X0D03</p>
</td>
<td>&nbsp;</td>
<td><p>P4A1</p>
</td>
<td><p>P8A1</p>
</td>
<td><p>P16A1</p>
</td>
<td><p>P32A21</p>
</td>
</tr>
<tr><td><p>X0D04</p>
</td>
<td>&nbsp;</td>
<td><p>P4B0</p>
</td>
<td><p>P8A2</p>
</td>
<td><p>P16A2</p>
</td>
<td><p>P32A22</p>
</td>
</tr>
<tr><td><p>X0D05</p>
</td>
<td>&nbsp;</td>
<td><p>P4B1</p>
</td>
<td><p>P8A3</p>
</td>
<td><p>P16A3</p>
</td>
<td><p>P32A23</p>
</td>
</tr>
<tr><td><p>X0D06</p>
</td>
<td>&nbsp;</td>
<td><p>P4B2</p>
</td>
<td><p>P8A4</p>
</td>
<td><p>P16A4</p>
</td>
<td><p>P32A24</p>
</td>
</tr>
<tr><td><p>X0D07</p>
</td>
<td>&nbsp;</td>
<td><p>P4B3</p>
</td>
<td><p>P8A5</p>
</td>
<td><p>P16A5</p>
</td>
<td><p>P32A25</p>
</td>
</tr>
<tr><td><p>X0D08</p>
</td>
<td>&nbsp;</td>
<td><p>P4A2</p>
</td>
<td><p>P8A6</p>
</td>
<td><p>P16A6</p>
</td>
<td><p>P32A26</p>
</td>
</tr>
<tr><td><p>X0D09</p>
</td>
<td>&nbsp;</td>
<td><p>P4A3</p>
</td>
<td><p>P8A7</p>
</td>
<td><p>P16A7</p>
</td>
<td><p>P32A27</p>
</td>
</tr>
<tr><td><p>X0D23</p>
</td>
<td><p>P1H0</p>
</td>
<td colspan="4">&nbsp;</td>
</tr>
<tr><td><p>X0D25</p>
</td>
<td><p>P1J0</p>
</td>
<td colspan="4">&nbsp;</td>
</tr>
<tr><td><p>X0D26</p>
</td>
<td>&nbsp;</td>
<td><p>P4E0</p>
</td>
<td><p>P8C0</p>
</td>
<td><p>P16B0</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D27</p>
</td>
<td>&nbsp;</td>
<td><p>P4E1</p>
</td>
<td><p>P8C1</p>
</td>
<td><p>P16B1</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D28</p>
</td>
<td>&nbsp;</td>
<td><p>P4F0</p>
</td>
<td><p>P8C2</p>
</td>
<td><p>P16B2</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D29</p>
</td>
<td>&nbsp;</td>
<td><p>P4F1</p>
</td>
<td><p>P8C3</p>
</td>
<td><p>P16B3</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D30</p>
</td>
<td>&nbsp;</td>
<td><p>P4F2</p>
</td>
<td><p>P8C4</p>
</td>
<td><p>P16B4</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D31</p>
</td>
<td>&nbsp;</td>
<td><p>P4F3</p>
</td>
<td><p>P8C5</p>
</td>
<td><p>P16B5</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D32</p>
</td>
<td>&nbsp;</td>
<td><p>P4E2</p>
</td>
<td><p>P8C6</p>
</td>
<td><p>P16B6</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D33</p>
</td>
<td>&nbsp;</td>
<td><p>P4E3</p>
</td>
<td><p>P8C7</p>
</td>
<td><p>P16B7</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D34</p>
</td>
<td><p>P1K0</p>
</td>
<td colspan="4">&nbsp;</td>
</tr>
<tr><td><p>X0D36</p>
</td>
<td><p>P1M0</p>
</td>
<td>&nbsp;</td>
<td><p>P8D0</p>
</td>
<td><p>P16B8</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D37</p>
</td>
<td><p>P1N0</p>
</td>
<td>&nbsp;</td>
<td><p>P8C1</p>
</td>
<td><p>P16B1</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D38</p>
</td>
<td><p>P1O0</p>
</td>
<td>&nbsp;</td>
<td><p>P8C2</p>
</td>
<td><p>P16B2</p>
</td>
<td>&nbsp;</td>
</tr>
<tr><td><p>X0D39</p>
</td>
<td><p>P1P0</p>
</td>
<td>&nbsp;</td>
<td><p>P8C3</p>
</td>
<td><p>P16B3</p>
</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div></div></div><h2 class="topic" id="core-speed">Core Speed</h2>
<div><p>Due to I/O requirements, the library requires a guaranteed MIPS rate to
ensure correct operation. This means that core count restrictions must
be observed. The XUD core must run at at least 80 MIPS.</p>
<p>This means that for an xCORE device running at 400MHz there should be no more
than five cores executing at any time when using the XUD. For
a 500MHz device no more than six cores shall execute at any one time
when using the XUD.</p>
<p>This restriction is only a requirement on the tile on which the <tt class="docutils literal"><span class="pre">XUD_Manager</span></tt> is running.
For example, the other tile on an L16 device is unaffected by this restriction.</p>
</div><h2 class="topic" id="clock-blocks">Clock Blocks</h2>
<div><h3 id="id1">G/L-Series</h3>
<div><p>The XUD library uses one clock block (clock block 0) and configures this
clock block to be clocked by the 60MHz clock from the ULPI transceiver.
The ports it uses are in turn clocked from the clock block.</p>
<p>Since clock block 0 is the default for all ports when enabled it is
important that if a port is not required to be clocked from this 60MHz
clock, then it is configured to use another clock block.</p>
</div><h3 id="id2">U-Series</h3>
<div><p>The XUD library uses two clock blocks (clock blocks 4 and 5). These are
clocked from the USB clock.  Unlike the G/L devices, clock-block 0 is not
used or affected.</p>
</div></div><h2 class="topic" id="timers">Timers</h2>
<div><p>The XUD library allocates and uses four timers.</p>
</div><h2 class="topic" id="memory">Memory</h2>
<div><p>The XUD library requires about 9 Kbytes of memory, of which around 6 Kbytes
is code or initialized variables that must be stored in either OTP or
Flash.</p>
</div>

             </div>
             </div>


          </div>

          <div>
             <!--seealsos-->
          </div><div id="local_seealso">
             <h1>See Also</h1>
             <ul class="iconmenu">
             <li><a href="page0.html">Overview</a></li>
             <li><a href="page1.html">File Arrangement</a></li>
             <li><a href="page3.html">Basic Usage</a></li>
             <li><a href="page7.html">Advanced Usage</a></li>
             <li><a href="page8.html">Further Reading</a></li>
             <li><a href="page6.html">Document Version History</a></li>
             </ul>
          </div>
    <div class="footer">
    </div>
  </body>
</html>